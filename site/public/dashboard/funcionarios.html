<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="../assets/moon.png" />
    <title>Funcionários | MoniToons</title>
    <link rel="stylesheet" href="../css/style_maquinas.css">
    <link rel="stylesheet" href="../css/style_funcionarios.css">
    <link rel="stylesheet" href="../assets/fontes/fonts.css">
    <script src="../js/funcionario/listarFuncionario.js" defer></script>
    <script src="../js/funcionario/atualizarFuncionario.js" defer></script>
    <script src="../js/funcionario/cadastrofuncionario.js" defer></script>
    <script src="../js/funcionario/excluirFuncionario.js" defer></script>



</head>

<body onload="listar(); mudaBarraApp()">

    <div class="confirmar-exclusao" id="popup-excluir-funcionario">
        <div class="card-confirmar-exclusao">
            <div class="titulo-card-confirmar-exclusao">
                <h1>Tem certeza que deseja excluir?</h1>
            </div>
            <div class="botoes-card-confirmar-exclusao">
                <button class="botao-exclusao" onclick="mostrarPopupExcluirFunc()">Cancelar</button>
                <button class="botao-exclusao" onclick="excluirFuncionario()">Confirmar</button>
            </div>
        </div>
    </div>

    <div class="adicionar-funcionario" id="popup-adicionar-funcionario">
        <div class="card-atualizacao">
            <div class="titulo-card-atualizacao">
                <div class="apoio"></div>
                <h1>Preencha os campos abaixo!</h1>
                <img src="../assets/Vector.png" alt="" onclick="mostrarPopupAdicionarFunc()">
            </div>
            <form action="funcionarios.html" class="formulario-atualizacao">
                <div class="campos-linha" id="campos-linha-1">
                    <div class="campo campo-50">
                        <label for="nome">Nome</label>
                        <input type="text" name="nome" id="nomeInput">
                    </div>
                    <div class="campo campo-50">
                        <label for="cargoInput">Cargo</label>
                        <select id="cargoInput">
                            <option value="ADMINISTRADOR">Administrador</option>
                            <option value="COMUM">Comum</option>
                        </select>

                    </div>
                </div>
                <div class="campos-linha">
                    <div class="campo campo-70">
                        <label for="email">Email</label>
                        <input type="text" name="email" id="emailInput">
                    </div>
                    <div class="campo campo-30">
                        <label for="cfp_rne">CPF / RNE</label>
                        <input type="text" name="cfp_rne" id="registroInput">
                    </div>
                </div>
                <div class="campos-linha">
                    <div class="campo campo-1-3">
                        <label for="senha">Senha</label>
                        <input type="password" name="senha" id="senhaInput">
                    </div>
                    <div class="campo campo-1-3">
                        <label for="telefone">Telefone</label>
                        <input type="number" name="telefone" id="telefoneInput">
                    </div>
                    <div class="campo campo-1-3">
                        <label for="telefone">Telefone</label>
                        <input type="number" name="telefone" id="telefone1Input">
                    </div>
                </div>
                <button class="botao-atualizar" onclick="validar()">Adicionar ao Grupo</button>
            </form>
        </div>
    </div>

    <div class="atualizar-funcionario" id="popup-atualizar-funcionario">
        <div class="card-atualizacao">
            <div class="titulo-card-atualizacao">
                <div class="apoio"></div>
                <h1>Preencha os campos abaixo!</h1>
                <img src="../assets/Vector.png" alt="" onclick="mostrarPopupAtualizarFunc()">
            </div>
            <form action="funcionarios.html" class="formulario-atualizacao">
                <div class="campos-linha" id="campos-linha-1">
                    <div class="campo campo-50">
                        <label for="nome">Nome</label>
                        <input type="text" name="nome" id="nomeAtualizar">
                    </div>
                    <div class="campo campo-50">
                        <label for="cargoInput">Cargo</label>
                        <select id="cargoAtualizar">
                            <option value="Administrador">Administrador</option>
                            <option value="Comum">Comum</option>
                        </select>
                    </div>
                </div>
                <div class="campos-linha">
                    <div class="campo campo-70">
                        <label for="email">Email</label>
                        <input type="text" name="email" id="emailAtualizar">
                    </div>
                    <div class="campo campo-30">
                        <label for="cfp_rne">CPF / RNE</label>
                        <input type="text" name="cfp_rne" id="registroAtualizar">
                    </div>
                </div>
                <div class="campos-linha">
                    <div class="campo campo-1-3">
                        <label for="senha">Senha</label>
                        <input type="password" name="senha" id="senhaAtualizar">
                    </div>
                    <div class="campo campo-1-3">
                        <label for="telefone">Telefone</label>
                        <input type="number" name="telefone" id="telefoneAtualizar">
                    </div>
                    <div class="campo campo-1-3">
                        <label for="telefone">Telefone</label>
                        <input type="number" name="telefone" id="telefone1Atualizar">
                    </div>
                </div>
                <button class="botao-atualizar" onclick="atualizarFuncionario()">Atualizar Funcionário</button>
            </form>
        </div>
    </div>

    <nav class="barra-lateral">
        <div class="titulo-barra-lateral">
            <span class="titulo">MoniToons</span>
            <div class="burger">
                <div class="line"></div>
                <div class="line"></div>
                <div class="line"></div>
            </div>
        </div>
        <div class="usuario-barra-lateral">
            <div class="imagem-usuario-barra-lateral">
                <a href="./perfil.html">
                    <img src="../assets/estrela-cadente.gif" alt="Usuário">
                </a>
            </div>
            <div class="info-usuario-barra-lateral">
                <span class="nome-barra-lateral" id="nome_usuario">Usuário</span>
                <span class="cargo-barra-lateral" id="cargo_usuario">Administrador</span>
            </div>
        </div>
        <ul class="bar-links">
            <li><a href="maquinas.html">Geral</a></li>
            <!-- <li><a href="#">Computadores</a></li> -->
            <li><a href="./funcionarios.html">Funcionários</a></li>
            <li><a href="./muraldealertas.html">Alertas</a></li>
            <li><a href="./aplicativos.html" id="link_app"></a></li>
        </ul>
        <div class="sair-barra-lateral">
            <a href="../index.html">SAIR</a>
        </div>
    </nav>
    <div class="espaco-barra-lateral"></div>
    <section class="sessao-funcionarios">
        <div class="container-funcionarios">
            <div class="titulo-sessao">
                <div class="titulo">Funcionários</div>
            </div>
            <div class="espaco-titulo-sessao"></div>
            <div id="botao_adicionar" class="botao-adicionar" onclick="mostrarPopupAdicionarFunc()">+</div>
            <div class="funcionarios" id="cards_func">
            </div>
        </div>
    </section>
</body>

</html>
<script type="text/javascript">
    function mudaBarraApp() {
        var linkApp = document.getElementById("link_app")
        if (sessionStorage.CARGO_USUARIO == "COMUM") {
            linkApp.innerHTML = "Aplicativos abertos"
        } else if (sessionStorage.CARGO_USUARIO == "ADMINISTRADOR") {
            linkApp.innerHTML = "Aplicativos proibidos"
        }
        var botaoAdicionar = document.getElementById("botao_adicionar");
    }

    function mostrarPopupAtualizarFunc() {
        var popup = document.getElementById("popup-atualizar-funcionario")
        if (popup.style.display == "flex") {
            popup.style.display = "none"
        } else {
            popup.style.display = "flex"
        }
    }

    function mostrarPopupAdicionarFunc() {
        var popup = document.getElementById("popup-adicionar-funcionario")
        if (popup.style.display == "flex") {
            popup.style.display = "none"
        } else {
            popup.style.display = "flex"
        }
    }

    function mostrarPopupExcluirFunc() {
        var popup = document.getElementById("popup-excluir-funcionario")
        if (popup.style.display == "flex") {
            popup.style.display = "none"
        } else {
            popup.style.display = "flex"
        }
    }

    function logout() {
        window.localStorage.clear()
        window.sessionStorage.clear()
        window.location.href = "../index.html"
    }
</script>